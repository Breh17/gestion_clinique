<!DOCTYPE html>
<html lang="fr" class="h-full bg-gray-50">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CliniQue Pro - Gestion Clinique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    'inter': ['Inter', 'sans-serif'],
                },
                colors: {
                    'medical-blue': '#1565C0',
                    'medical-green': '#2E7D63',
                    'medical-light-blue': '#0277BD',
                }
            }
        }
    };
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="h-full font-inter">
    <!-- @COMPONENT: App [Main application wrapper] -->
    <div id="app" class="h-full">
        
        <!-- Login Screen -->
        <!-- @COMPONENT: LoginScreen [Authentication interface] -->
        <div id="login-screen" class="min-h-full flex items-center justify-center bg-gradient-to-br from-medical-blue/5 to-medical-green/5 px-4 sm:px-6 lg:px-8">
            <div class="max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg">
                <div>
                    <div class="mx-auto h-16 w-16 bg-medical-blue rounded-full flex items-center justify-center">
                        <i class="fas fa-user-md text-white text-2xl"></i>
                    </div>
                    <h2 class="mt-6 text-center text-3xl font-bold text-gray-900">CliniQue Pro</h2>
                    <p class="mt-2 text-center text-sm text-gray-600">Connexion à votre espace professionnel</p>
                </div>
                <form class="mt-8 space-y-6" data-event="submit:handleLogin">
                    <div class="space-y-4">
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700">Adresse e-mail</label>
                            <input id="email" name="email" type="email" required 
                                   class="mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-medical-blue focus:border-medical-blue focus:z-10 sm:text-sm" 
                                   placeholder="votre.email@clinique.fr" data-bind="user.email">
                        </div>
                        <div>
                            <label for="password" class="block text-sm font-medium text-gray-700">Mot de passe</label>
                            <input id="password" name="password" type="password" required 
                                   class="mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-medical-blue focus:border-medical-blue focus:z-10 sm:text-sm" 
                                   placeholder="Votre mot de passe" data-bind="user.password">
                        </div>
                        <div>
                            <label for="role" class="block text-sm font-medium text-gray-700">Rôle</label>
                            <select id="role" name="role" required 
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-medical-blue focus:border-medical-blue sm:text-sm" 
                                    data-bind="user.role">
                                <option value="">Sélectionner votre rôle</option>
                                <option value="superviseur">Superviseur</option>
                                <option value="medecin">Médecin</option>
                                <option value="secretaire">Secrétaire / Accueil</option>
                                <option value="pharmacien">Pharmacien</option>
                                <option value="caissier">Caissier</option>
                                <option value="comptable">Comptable</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <button type="submit" 
                                class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-medical-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-medical-blue transition-colors"
                                data-event="click:handleLogin">
                            Se connecter
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <!-- @END_COMPONENT: LoginScreen -->

        <!-- Main Application -->
        <!-- @COMPONENT: MainApp [Core application interface] -->
        <div id="main-app" class="hidden h-full flex">
            
            <!-- Sidebar Navigation -->
            <!-- @COMPONENT: Sidebar [Navigation menu] -->
            <div class="hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0">
                <div class="flex-1 flex flex-col min-h-0 bg-white border-r border-gray-200">
                    <div class="flex-1 flex flex-col pt-5 pb-4 overflow-y-auto">
                        <div class="flex items-center flex-shrink-0 px-4">
                            <div class="h-8 w-8 bg-medical-blue rounded flex items-center justify-center">
                                <i class="fas fa-user-md text-white text-sm"></i>
                            </div>
                            <span class="ml-2 text-xl font-semibold text-gray-900">CliniQue Pro</span>
                        </div>
                        <nav class="mt-5 flex-1 px-2 space-y-1" data-implementation="Dynamic navigation based on user role">
                            <a href="#" class="bg-medical-blue text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                                <i class="fas fa-tachometer-alt text-white mr-3 text-sm"></i>
                                Tableau de bord
                            </a>
                            <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                                <i class="fas fa-users text-gray-400 group-hover:text-gray-500 mr-3 text-sm"></i>
                                Patients
                            </a>
                            <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                                <i class="fas fa-calendar text-gray-400 group-hover:text-gray-500 mr-3 text-sm"></i>
                                Rendez-vous
                            </a>
                            <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                                <i class="fas fa-stethoscope text-gray-400 group-hover:text-gray-500 mr-3 text-sm"></i>
                                Consultations
                            </a>
                            <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                                <i class="fas fa-pills text-gray-400 group-hover:text-gray-500 mr-3 text-sm"></i>
                                Pharmacie
                            </a>
                            <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                                <i class="fas fa-file-invoice-dollar text-gray-400 group-hover:text-gray-500 mr-3 text-sm"></i>
                                Facturation
                            </a>
                            <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                                <i class="fas fa-cash-register text-gray-400 group-hover:text-gray-500 mr-3 text-sm"></i>
                                Caisse
                            </a>
                            <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                                <i class="fas fa-receipt text-gray-400 group-hover:text-gray-500 mr-3 text-sm"></i>
                                Dépenses
                            </a>
                            <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                                <i class="fas fa-shield-alt text-gray-400 group-hover:text-gray-500 mr-3 text-sm"></i>
                                Assurances
                            </a>
                            <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                                <i class="fas fa-chart-bar text-gray-400 group-hover:text-gray-500 mr-3 text-sm"></i>
                                Rapports
                            </a>
                        </nav>
                    </div>
                    <div class="flex-shrink-0 flex border-t border-gray-200 p-4">
                        <div class="flex items-center">
                            <div class="h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center">
                                <i class="fas fa-user text-gray-600 text-sm"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm font-medium text-gray-700" data-bind="currentUser.name">Dr. Martin Dubois</p>
                                <p class="text-xs text-gray-500" data-bind="currentUser.role">Médecin</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: Sidebar -->

            <!-- Main Content -->
            <!-- @COMPONENT: MainContent [Primary content area] -->
            <div class="md:pl-64 flex flex-col flex-1">
                <!-- Top Header -->
                <!-- @COMPONENT: TopHeader [Application header] -->
                <div class="sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white shadow">
                    <button class="px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-medical-blue md:hidden">
                        <i class="fas fa-bars text-lg"></i>
                    </button>
                    <div class="flex-1 px-4 flex justify-between">
                        <div class="flex-1 flex">
                            <div class="w-full flex md:ml-0">
                                <div class="relative w-full text-gray-400 focus-within:text-gray-600">
                                    <div class="absolute inset-y-0 left-0 flex items-center pointer-events-none">
                                        <i class="fas fa-search text-sm"></i>
                                    </div>
                                    <input class="block w-full h-full pl-8 pr-3 py-2 border-transparent text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-0 focus:border-transparent sm:text-sm" 
                                           placeholder="Rechercher un patient..." type="search" data-bind="searchQuery">
                                </div>
                            </div>
                        </div>
                        <div class="ml-4 flex items-center md:ml-6 space-x-4">
                            <button class="bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-medical-blue">
                                <i class="fas fa-bell text-lg"></i>
                                <span class="absolute -mt-1 -mr-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center" data-bind="notificationCount">3</span>
                            </button>
                            <div class="bg-medical-green text-white px-3 py-1 rounded-full text-sm font-medium">
                                Caisse: <span data-bind="cashStatus">Ouverte</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: TopHeader -->

                <!-- Dashboard Content -->
                <!-- @COMPONENT: Dashboard [Main dashboard view] -->
                <main class="flex-1 overflow-y-auto">
                    <div class="py-6">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8">
                            <h1 class="text-2xl font-semibold text-gray-900">Tableau de bord</h1>
                            <p class="mt-1 text-sm text-gray-600">Vue d'ensemble de l'activité clinique du <span data-bind="currentDate">17 janvier 2025</span></p>
                        </div>

                        <!-- Key Metrics -->
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8 mt-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                <!-- @MAP: metrics.map(metric => ( -->
                                <div class="bg-white overflow-hidden shadow rounded-lg">
                                    <div class="p-5">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0">
                                                <i class="fas fa-users text-medical-blue text-2xl" data-mock="true"></i>
                                            </div>
                                            <div class="ml-5 w-0 flex-1">
                                                <dl>
                                                    <dt class="text-sm font-medium text-gray-500 truncate">Patients aujourd'hui</dt>
                                                    <dd class="text-lg font-medium text-gray-900" data-bind="todayPatients">24</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-white overflow-hidden shadow rounded-lg">
                                    <div class="p-5">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0">
                                                <i class="fas fa-calendar-check text-medical-green text-2xl" data-mock="true"></i>
                                            </div>
                                            <div class="ml-5 w-0 flex-1">
                                                <dl>
                                                    <dt class="text-sm font-medium text-gray-500 truncate">RDV programmés</dt>
                                                    <dd class="text-lg font-medium text-gray-900" data-bind="scheduledAppointments">18</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-white overflow-hidden shadow rounded-lg">
                                    <div class="p-5">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0">
                                                <i class="fas fa-euro-sign text-yellow-600 text-2xl" data-mock="true"></i>
                                            </div>
                                            <div class="ml-5 w-0 flex-1">
                                                <dl>
                                                    <dt class="text-sm font-medium text-gray-500 truncate">CA journalier</dt>
                                                    <dd class="text-lg font-medium text-gray-900" data-bind="dailyRevenue">1,847€</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-white overflow-hidden shadow rounded-lg">
                                    <div class="p-5">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0">
                                                <i class="fas fa-exclamation-triangle text-orange-500 text-2xl" data-mock="true"></i>
                                            </div>
                                            <div class="ml-5 w-0 flex-1">
                                                <dl>
                                                    <dt class="text-sm font-medium text-gray-500 truncate">Péremptions < 30j</dt>
                                                    <dd class="text-lg font-medium text-gray-900" data-bind="expiringMeds">7</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- @END_MAP )) -->
                            </div>
                        </div>

                        <!-- Two Column Layout -->
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8 mt-8">
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                
                                <!-- Patient Queue -->
                                <!-- @COMPONENT: PatientQueue [Waiting list management] -->
                                <div class="bg-white shadow rounded-lg">
                                    <div class="px-4 py-5 sm:p-6">
                                        <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">File d'attente</h3>
                                        <div class="space-y-3">
                                            <!-- @MAP: waitingPatients.map(patient => ( -->
                                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg" data-mock="true">
                                                <div class="flex items-center">
                                                    <div class="h-8 w-8 bg-medical-blue rounded-full flex items-center justify-center">
                                                        <span class="text-white text-sm font-medium">MD</span>
                                                    </div>
                                                    <div class="ml-3">
                                                        <p class="text-sm font-medium text-gray-900" data-bind="patient.name">Marie Dupont</p>
                                                        <p class="text-xs text-gray-500" data-bind="patient.reason">Consultation générale</p>
                                                    </div>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <span class="px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800" data-bind="patient.status">En attente</span>
                                                    <span class="text-xs text-gray-500" data-bind="patient.waitTime">15 min</span>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg" data-mock="true">
                                                <div class="flex items-center">
                                                    <div class="h-8 w-8 bg-medical-green rounded-full flex items-center justify-center">
                                                        <span class="text-white text-sm font-medium">JS</span>
                                                    </div>
                                                    <div class="ml-3">
                                                        <p class="text-sm font-medium text-gray-900" data-bind="patient.name">Jean Sénégal</p>
                                                        <p class="text-xs text-gray-500" data-bind="patient.reason">Échographie</p>
                                                    </div>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800" data-bind="patient.status">En consultation</span>
                                                    <span class="text-xs text-gray-500" data-bind="patient.waitTime">45 min</span>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg" data-mock="true">
                                                <div class="flex items-center">
                                                    <div class="h-8 w-8 bg-purple-500 rounded-full flex items-center justify-center">
                                                        <span class="text-white text-sm font-medium">AK</span>
                                                    </div>
                                                    <div class="ml-3">
                                                        <p class="text-sm font-medium text-gray-900" data-bind="patient.name">Aminata Kane</p>
                                                        <p class="text-xs text-gray-500" data-bind="patient.reason">Suivi gynécologique</p>
                                                    </div>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <span class="px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-800" data-bind="patient.status">Pharmacie</span>
                                                    <span class="text-xs text-gray-500" data-bind="patient.waitTime">8 min</span>
                                                </div>
                                            </div>
                                            <!-- @END_MAP )) -->
                                        </div>
                                        <div class="mt-4">
                                            <button class="w-full bg-medical-blue text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors" 
                                                    data-event="click:viewAllQueue">
                                                Voir toute la file d'attente
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <!-- @END_COMPONENT: PatientQueue -->

                                <!-- Today's Appointments -->
                                <!-- @COMPONENT: TodaysAppointments [Daily schedule] -->
                                <div class="bg-white shadow rounded-lg">
                                    <div class="px-4 py-5 sm:p-6">
                                        <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">Rendez-vous du jour</h3>
                                        <div class="space-y-3">
                                            <!-- @MAP: todayAppointments.map(appointment => ( -->
                                            <div class="flex items-center justify-between p-3 border-l-4 border-medical-blue bg-blue-50 rounded-r-lg" data-mock="true">
                                                <div>
                                                    <p class="text-sm font-medium text-gray-900" data-bind="appointment.time">09:30</p>
                                                    <p class="text-sm text-gray-600" data-bind="appointment.patient">Fatou Diallo</p>
                                                    <p class="text-xs text-gray-500" data-bind="appointment.type">Consultation prénatale</p>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800" data-bind="appointment.status">Confirmé</span>
                                                    <button class="text-medical-blue hover:text-blue-700" data-event="click:viewAppointment">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-between p-3 border-l-4 border-medical-green bg-green-50 rounded-r-lg" data-mock="true">
                                                <div>
                                                    <p class="text-sm font-medium text-gray-900" data-bind="appointment.time">11:00</p>
                                                    <p class="text-sm text-gray-600" data-bind="appointment.patient">Moussa Ba</p>
                                                    <p class="text-xs text-gray-500" data-bind="appointment.type">Contrôle hypertension</p>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <span class="px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800" data-bind="appointment.status">En attente</span>
                                                    <button class="text-medical-blue hover:text-blue-700" data-event="click:viewAppointment">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-between p-3 border-l-4 border-orange-500 bg-orange-50 rounded-r-lg" data-mock="true">
                                                <div>
                                                    <p class="text-sm font-medium text-gray-900" data-bind="appointment.time">14:30</p>
                                                    <p class="text-sm text-gray-600" data-bind="appointment.patient">Awa Seck</p>
                                                    <p class="text-xs text-gray-500" data-bind="appointment.type">Échographie</p>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <span class="px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800" data-bind="appointment.status">Programmé</span>
                                                    <button class="text-medical-blue hover:text-blue-700" data-event="click:viewAppointment">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <!-- @END_MAP )) -->
                                        </div>
                                        <div class="mt-4">
                                            <button class="w-full bg-medical-green text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-green-700 transition-colors" 
                                                    data-event="click:viewCalendar">
                                                Voir l'agenda complet
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <!-- @END_COMPONENT: TodaysAppointments -->
                                
                            </div>
                        </div>

                        <!-- Financial Overview & Alerts -->
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8 mt-8">
                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                                
                                <!-- Cash Management -->
                                <!-- @COMPONENT: CashOverview [Daily cash operations] -->
                                <div class="bg-white shadow rounded-lg">
                                    <div class="px-4 py-5 sm:p-6">
                                        <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">
                                            <i class="fas fa-cash-register text-medical-blue mr-2"></i>
                                            État de la caisse
                                        </h3>
                                        <div class="space-y-4">
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm text-gray-600">Solde d'ouverture</span>
                                                <span class="text-sm font-medium" data-bind="cashOpening">500,00 €</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm text-gray-600">Recettes du jour</span>
                                                <span class="text-sm font-medium text-green-600" data-bind="dailyReceipts">+1,347,00 €</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm text-gray-600">Dépenses</span>
                                                <span class="text-sm font-medium text-red-600" data-bind="dailyExpenses">-125,50 €</span>
                                            </div>
                                            <hr>
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm font-medium text-gray-900">Solde théorique</span>
                                                <span class="text-lg font-bold text-medical-blue" data-bind="theoreticalBalance">1,721,50 €</span>
                                            </div>
                                            <button class="w-full bg-medical-blue text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors" 
                                                    data-event="click:manageCash">
                                                Gestion de caisse
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <!-- @END_COMPONENT: CashOverview -->

                                <!-- Pharmacy Alerts -->
                                <!-- @COMPONENT: PharmacyAlerts [Stock and expiry alerts] -->
                                <div class="bg-white shadow rounded-lg">
                                    <div class="px-4 py-5 sm:p-6">
                                        <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">
                                            <i class="fas fa-pills text-medical-green mr-2"></i>
                                            Alertes pharmacie
                                        </h3>
                                        <div class="space-y-3">
                                            <!-- @MAP: pharmacyAlerts.map(alert => ( -->
                                            <div class="flex items-center justify-between p-2 bg-orange-50 border border-orange-200 rounded-lg" data-mock="true">
                                                <div>
                                                    <p class="text-sm font-medium text-gray-900" data-bind="alert.medication">Paracétamol 500mg</p>
                                                    <p class="text-xs text-orange-600" data-bind="alert.type">Expire dans 15 jours</p>
                                                </div>
                                                <span class="text-xs font-medium text-orange-800" data-bind="alert.quantity">24 unités</span>
                                            </div>

                                            <div class="flex items-center justify-between p-2 bg-red-50 border border-red-200 rounded-lg" data-mock="true">
                                                <div>
                                                    <p class="text-sm font-medium text-gray-900" data-bind="alert.medication">Amoxicilline 250mg</p>
                                                    <p class="text-xs text-red-600" data-bind="alert.type">Stock faible</p>
                                                </div>
                                                <span class="text-xs font-medium text-red-800" data-bind="alert.quantity">3 unités</span>
                                            </div>

                                            <div class="flex items-center justify-between p-2 bg-yellow-50 border border-yellow-200 rounded-lg" data-mock="true">
                                                <div>
                                                    <p class="text-sm font-medium text-gray-900" data-bind="alert.medication">Ibuprofène 400mg</p>
                                                    <p class="text-xs text-yellow-600" data-bind="alert.type">Expire dans 7 jours</p>
                                                </div>
                                                <span class="text-xs font-medium text-yellow-800" data-bind="alert.quantity">12 unités</span>
                                            </div>
                                            <!-- @END_MAP )) -->
                                        </div>
                                        <div class="mt-4">
                                            <button class="w-full bg-medical-green text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-green-700 transition-colors" 
                                                    data-event="click:viewPharmacy">
                                                Gérer la pharmacie
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <!-- @END_COMPONENT: PharmacyAlerts -->

                                <!-- Recent Transactions -->
                                <!-- @COMPONENT: RecentTransactions [Financial activity] -->
                                <div class="bg-white shadow rounded-lg">
                                    <div class="px-4 py-5 sm:p-6">
                                        <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">
                                            <i class="fas fa-money-bill-wave text-green-600 mr-2"></i>
                                            Dernières transactions
                                        </h3>
                                        <div class="space-y-3">
                                            <!-- @MAP: recentTransactions.map(transaction => ( -->
                                            <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg" data-mock="true">
                                                <div>
                                                    <p class="text-sm font-medium text-gray-900" data-bind="transaction.patient">Marie Dupont</p>
                                                    <p class="text-xs text-gray-500" data-bind="transaction.type">Consultation + Médicaments</p>
                                                </div>
                                                <div class="text-right">
                                                    <p class="text-sm font-medium text-green-600" data-bind="transaction.amount">+45,00 €</p>
                                                    <p class="text-xs text-gray-500" data-bind="transaction.time">14:32</p>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg" data-mock="true">
                                                <div>
                                                    <p class="text-sm font-medium text-gray-900" data-bind="transaction.patient">Jean Sénégal</p>
                                                    <p class="text-xs text-gray-500" data-bind="transaction.type">Échographie</p>
                                                </div>
                                                <div class="text-right">
                                                    <p class="text-sm font-medium text-green-600" data-bind="transaction.amount">+75,00 €</p>
                                                    <p class="text-xs text-gray-500" data-bind="transaction.time">13:15</p>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg" data-mock="true">
                                                <div>
                                                    <p class="text-sm font-medium text-gray-900" data-bind="transaction.supplier">Fournisseur Pharma</p>
                                                    <p class="text-xs text-gray-500" data-bind="transaction.type">Achat médicaments</p>
                                                </div>
                                                <div class="text-right">
                                                    <p class="text-sm font-medium text-red-600" data-bind="transaction.amount">-125,50 €</p>
                                                    <p class="text-xs text-gray-500" data-bind="transaction.time">11:45</p>
                                                </div>
                                            </div>
                                            <!-- @END_MAP )) -->
                                        </div>
                                        <div class="mt-4">
                                            <button class="w-full bg-gray-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-gray-700 transition-colors" 
                                                    data-event="click:viewTransactions">
                                                Voir toutes les transactions
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <!-- @END_COMPONENT: RecentTransactions -->
                                
                            </div>
                        </div>

                        <!-- Patient Management Interface -->
                        <!-- @COMPONENT: PatientManagement [Comprehensive patient interface] -->
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8 mt-12" id="patient-section">
                            <div class="bg-white shadow rounded-lg">
                                <div class="px-6 py-4 border-b border-gray-200">
                                    <div class="flex items-center justify-between">
                                        <h2 class="text-xl font-semibold text-gray-900">
                                            <i class="fas fa-users text-medical-blue mr-2"></i>
                                            Gestion des patients
                                        </h2>
                                        <button class="bg-medical-blue text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors" 
                                                data-event="click:newPatient">
                                            <i class="fas fa-plus mr-2"></i>
                                            Nouveau patient
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Search and Filter -->
                                <div class="px-6 py-4 bg-gray-50 border-b border-gray-200">
                                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                        <div>
                                            <input type="text" placeholder="Nom, prénom, dossier..." 
                                                   class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-medical-blue focus:border-medical-blue" 
                                                   data-bind="patientSearchQuery">
                                        </div>
                                        <div>
                                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-medical-blue focus:border-medical-blue" 
                                                    data-bind="patientStatusFilter">
                                                <option value="">Tous les statuts</option>
                                                <option value="active">Actif</option>
                                                <option value="inactive">Inactif</option>
                                            </select>
                                        </div>
                                        <div>
                                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-medical-blue focus:border-medical-blue" 
                                                    data-bind="patientInsuranceFilter">
                                                <option value="">Toutes assurances</option>
                                                <option value="cnss">CNSS</option>
                                                <option value="mutuelle">Mutuelle</option>
                                                <option value="private">Privé</option>
                                            </select>
                                        </div>
                                        <div>
                                            <button class="w-full bg-medical-green text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition-colors" 
                                                    data-event="click:exportPatients">
                                                <i class="fas fa-download mr-2"></i>
                                                Exporter
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Patient List -->
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    Patient
                                                </th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    N° Dossier
                                                </th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    Téléphone
                                                </th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    Assurance
                                                </th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    Dernière visite
                                                </th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    Actions
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200">
                                            <!-- @MAP: patients.map(patient => ( -->
                                            <tr class="hover:bg-gray-50" data-mock="true">
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <div class="flex items-center">
                                                        <div class="h-10 w-10 bg-medical-blue rounded-full flex items-center justify-center">
                                                            <span class="text-white text-sm font-medium">MD</span>
                                                        </div>
                                                        <div class="ml-4">
                                                            <div class="text-sm font-medium text-gray-900" data-bind="patient.fullName">Marie Dupont</div>
                                                            <div class="text-sm text-gray-500" data-bind="patient.birthDate">15/03/1985 • F</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-bind="patient.fileNumber">P-2025-001</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-bind="patient.phone">+221 77 123 4567</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800" data-bind="patient.insurance">CNSS</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-bind="patient.lastVisit">16/01/2025</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                    <button class="text-medical-blue hover:text-blue-700" data-event="click:viewPatient">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                    <button class="text-medical-green hover:text-green-700" data-event="click:editPatient">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="text-orange-600 hover:text-orange-700" data-event="click:scheduleAppointment">
                                                        <i class="fas fa-calendar-plus"></i>
                                                    </button>
                                                </td>
                                            </tr>

                                            <tr class="hover:bg-gray-50" data-mock="true">
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <div class="flex items-center">
                                                        <div class="h-10 w-10 bg-medical-green rounded-full flex items-center justify-center">
                                                            <span class="text-white text-sm font-medium">JS</span>
                                                        </div>
                                                        <div class="ml-4">
                                                            <div class="text-sm font-medium text-gray-900" data-bind="patient.fullName">Jean Sénégal</div>
                                                            <div class="text-sm text-gray-500" data-bind="patient.birthDate">22/08/1970 • M</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-bind="patient.fileNumber">P-2025-002</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-bind="patient.phone">+221 76 987 6543</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800" data-bind="patient.insurance">Mutuelle</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-bind="patient.lastVisit">17/01/2025</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                    <button class="text-medical-blue hover:text-blue-700" data-event="click:viewPatient">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                    <button class="text-medical-green hover:text-green-700" data-event="click:editPatient">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="text-orange-600 hover:text-orange-700" data-event="click:scheduleAppointment">
                                                        <i class="fas fa-calendar-plus"></i>
                                                    </button>
                                                </td>
                                            </tr>

                                            <tr class="hover:bg-gray-50" data-mock="true">
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <div class="flex items-center">
                                                        <div class="h-10 w-10 bg-purple-500 rounded-full flex items-center justify-center">
                                                            <span class="text-white text-sm font-medium">AK</span>
                                                        </div>
                                                        <div class="ml-4">
                                                            <div class="text-sm font-medium text-gray-900" data-bind="patient.fullName">Aminata Kane</div>
                                                            <div class="text-sm text-gray-500" data-bind="patient.birthDate">05/12/1990 • F</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-bind="patient.fileNumber">P-2025-003</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-bind="patient.phone">+221 78 456 7890</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800" data-bind="patient.insurance">Privé</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-bind="patient.lastVisit">15/01/2025</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                    <button class="text-medical-blue hover:text-blue-700" data-event="click:viewPatient">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                    <button class="text-medical-green hover:text-green-700" data-event="click:editPatient">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="text-orange-600 hover:text-orange-700" data-event="click:scheduleAppointment">
                                                        <i class="fas fa-calendar-plus"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                            <!-- @END_MAP )) -->
                                        </tbody>
                                    </table>
                                </div>

                                <!-- Pagination -->
                                <div class="px-6 py-4 border-t border-gray-200 flex items-center justify-between">
                                    <div class="text-sm text-gray-700">
                                        Affichage de <span class="font-medium" data-bind="pagination.start">1</span> à <span class="font-medium" data-bind="pagination.end">10</span> sur <span class="font-medium" data-bind="pagination.total">247</span> résultats
                                    </div>
                                    <div class="flex space-x-2">
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50" data-event="click:previousPage">Précédent</button>
                                        <button class="px-3 py-1 bg-medical-blue text-white rounded text-sm">1</button>
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50">2</button>
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50">3</button>
                                        <button class="px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50" data-event="click:nextPage">Suivant</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- @END_COMPONENT: PatientManagement -->

                        <!-- Pharmacy Management -->
                        <!-- @COMPONENT: PharmacyManagement [Comprehensive pharmacy interface] -->
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8 mt-12" id="pharmacy-section">
                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                                
                                <!-- Stock Overview -->
                                <div class="lg:col-span-2">
                                    <div class="bg-white shadow rounded-lg">
                                        <div class="px-6 py-4 border-b border-gray-200">
                                            <div class="flex items-center justify-between">
                                                <h2 class="text-xl font-semibold text-gray-900">
                                                    <i class="fas fa-pills text-medical-green mr-2"></i>
                                                    Stock des médicaments
                                                </h2>
                                                <div class="flex space-x-2">
                                                    <button class="bg-medical-green text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition-colors" 
                                                            data-event="click:newMedication">
                                                        <i class="fas fa-plus mr-2"></i>
                                                        Nouveau
                                                    </button>
                                                    <button class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors" 
                                                            data-event="click:receiveStock">
                                                        <i class="fas fa-truck mr-2"></i>
                                                        Réception
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="p-6">
                                            <!-- Search Bar -->
                                            <div class="mb-4">
                                                <input type="text" placeholder="Rechercher un médicament..." 
                                                       class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-medical-green focus:border-medical-green" 
                                                       data-bind="medicationSearchQuery">
                                            </div>

                                            <!-- Medications Table -->
                                            <div class="overflow-x-auto">
                                                <table class="min-w-full divide-y divide-gray-200">
                                                    <thead class="bg-gray-50">
                                                        <tr>
                                                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Médicament</th>
                                                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Stock</th>
                                                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Prix</th>
                                                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Expiration</th>
                                                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="divide-y divide-gray-200">
                                                        <!-- @MAP: medications.map(med => ( -->
                                                        <tr class="hover:bg-gray-50" data-mock="true">
                                                            <td class="px-4 py-3">
                                                                <div>
                                                                    <div class="text-sm font-medium text-gray-900" data-bind="med.name">Paracétamol 500mg</div>
                                                                    <div class="text-xs text-gray-500" data-bind="med.form">Comprimé • Boîte de 20</div>
                                                                </div>
                                                            </td>
                                                            <td class="px-4 py-3">
                                                                <div class="flex items-center">
                                                                    <span class="text-sm font-medium text-red-600" data-bind="med.quantity">24</span>
                                                                    <span class="ml-1 text-xs text-gray-500">unités</span>
                                                                    <i class="fas fa-exclamation-triangle text-orange-500 ml-2" title="Stock faible"></i>
                                                                </div>
                                                            </td>
                                                            <td class="px-4 py-3">
                                                                <div class="text-sm text-gray-900" data-bind="med.salePrice">2,500 F</div>
                                                                <div class="text-xs text-gray-500" data-bind="med.purchasePrice">PA: 1,800 F</div>
                                                            </td>
                                                            <td class="px-4 py-3">
                                                                <span class="px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-800" data-bind="med.expiry">15 jours</span>
                                                            </td>
                                                            <td class="px-4 py-3 space-x-2">
                                                                <button class="text-medical-green hover:text-green-700" data-event="click:dispenseMedication">
                                                                    <i class="fas fa-hand-paper"></i>
                                                                </button>
                                                                <button class="text-medical-blue hover:text-blue-700" data-event="click:viewMedication">
                                                                    <i class="fas fa-eye"></i>
                                                                </button>
                                                                <button class="text-orange-600 hover:text-orange-700" data-event="click:editMedication">
                                                                    <i class="fas fa-edit"></i>
                                                                </button>
                                                            </td>
                                                        </tr>

                                                        <tr class="hover:bg-gray-50" data-mock="true">
                                                            <td class="px-4 py-3">
                                                                <div>
                                                                    <div class="text-sm font-medium text-gray-900" data-bind="med.name">Amoxicilline 250mg</div>
                                                                    <div class="text-xs text-gray-500" data-bind="med.form">Gélule • Boîte de 12</div>
                                                                </div>
                                                            </td>
                                                            <td class="px-4 py-3">
                                                                <div class="flex items-center">
                                                                    <span class="text-sm font-medium text-red-600" data-bind="med.quantity">3</span>
                                                                    <span class="ml-1 text-xs text-gray-500">unités</span>
                                                                    <i class="fas fa-exclamation-circle text-red-500 ml-2" title="Rupture imminente"></i>
                                                                </div>
                                                            </td>
                                                            <td class="px-4 py-3">
                                                                <div class="text-sm text-gray-900" data-bind="med.salePrice">4,200 F</div>
                                                                <div class="text-xs text-gray-500" data-bind="med.purchasePrice">PA: 3,000 F</div>
                                                            </td>
                                                            <td class="px-4 py-3">
                                                                <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800" data-bind="med.expiry">6 mois</span>
                                                            </td>
                                                            <td class="px-4 py-3 space-x-2">
                                                                <button class="text-medical-green hover:text-green-700" data-event="click:dispenseMedication">
                                                                    <i class="fas fa-hand-paper"></i>
                                                                </button>
                                                                <button class="text-medical-blue hover:text-blue-700" data-event="click:viewMedication">
                                                                    <i class="fas fa-eye"></i>
                                                                </button>
                                                                <button class="text-orange-600 hover:text-orange-700" data-event="click:editMedication">
                                                                    <i class="fas fa-edit"></i>
                                                                </button>
                                                            </td>
                                                        </tr>
                                                        <!-- @END_MAP )) -->
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Pharmacy Sidebar -->
                                <div class="space-y-6">
                                    <!-- Prescription Processing -->
                                    <div class="bg-white shadow rounded-lg">
                                        <div class="px-4 py-3 border-b border-gray-200">
                                            <h3 class="text-lg font-medium text-gray-900">
                                                <i class="fas fa-prescription text-medical-blue mr-2"></i>
                                                Ordonnances
                                            </h3>
                                        </div>
                                        <div class="p-4 space-y-3">
                                            <!-- @MAP: prescriptions.map(prescription => ( -->
                                            <div class="border border-gray-200 rounded-lg p-3" data-mock="true">
                                                <div class="flex items-center justify-between mb-2">
                                                    <span class="text-sm font-medium text-gray-900" data-bind="prescription.patient">Marie Dupont</span>
                                                    <span class="text-xs text-gray-500" data-bind="prescription.time">14:30</span>
                                                </div>
                                                <div class="text-xs text-gray-600 mb-2" data-bind="prescription.doctor">Dr. Martin Dubois</div>
                                                <div class="space-y-1">
                                                    <div class="text-xs bg-gray-50 p-2 rounded" data-bind="prescription.medication">
                                                        Paracétamol 500mg × 2 boîtes
                                                    </div>
                                                    <div class="text-xs bg-gray-50 p-2 rounded" data-bind="prescription.medication">
                                                        Vitamine C × 1 boîte
                                                    </div>
                                                </div>
                                                <div class="mt-3 flex space-x-2">
                                                    <button class="flex-1 bg-medical-green text-white px-2 py-1 rounded text-xs font-medium hover:bg-green-700" 
                                                            data-event="click:processPrescription">
                                                        Traiter
                                                    </button>
                                                    <button class="px-2 py-1 border border-gray-300 rounded text-xs text-gray-600 hover:bg-gray-50" 
                                                            data-event="click:viewPrescription">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <!-- @END_MAP )) -->
                                        </div>
                                    </div>

                                    <!-- Quick Stats -->
                                    <div class="bg-white shadow rounded-lg">
                                        <div class="px-4 py-3 border-b border-gray-200">
                                            <h3 class="text-lg font-medium text-gray-900">
                                                <i class="fas fa-chart-pie text-medical-green mr-2"></i>
                                                Statistiques rapides
                                            </h3>
                                        </div>
                                        <div class="p-4 space-y-4">
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm text-gray-600">Médicaments actifs</span>
                                                <span class="text-sm font-medium" data-bind="stats.activeMedications">247</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm text-gray-600">Stock faible</span>
                                                <span class="text-sm font-medium text-red-600" data-bind="stats.lowStock">12</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm text-gray-600">Expire < 30j</span>
                                                <span class="text-sm font-medium text-orange-600" data-bind="stats.expiringSoon">7</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm text-gray-600">Valeur stock</span>
                                                <span class="text-sm font-medium text-green-600" data-bind="stats.stockValue">2,347,500 F</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Recent Dispensings -->
                                    <div class="bg-white shadow rounded-lg">
                                        <div class="px-4 py-3 border-b border-gray-200">
                                            <h3 class="text-lg font-medium text-gray-900">
                                                <i class="fas fa-history text-gray-600 mr-2"></i>
                                                Dernières délivrances
                                            </h3>
                                        </div>
                                        <div class="p-4 space-y-3">
                                            <!-- @MAP: recentDispensingss.map(dispensing => ( -->
                                            <div class="text-xs border-b border-gray-100 pb-2 last:border-b-0" data-mock="true">
                                                <div class="flex justify-between items-center">
                                                    <span class="font-medium text-gray-900" data-bind="dispensing.medication">Paracétamol</span>
                                                    <span class="text-gray-500" data-bind="dispensing.time">13:45</span>
                                                </div>
                                                <div class="text-gray-600" data-bind="dispensing.patient">Marie Dupont • 2 boîtes</div>
                                            </div>
                                            
                                            <div class="text-xs border-b border-gray-100 pb-2 last:border-b-0" data-mock="true">
                                                <div class="flex justify-between items-center">
                                                    <span class="font-medium text-gray-900" data-bind="dispensing.medication">Ibuprofène</span>
                                                    <span class="text-gray-500" data-bind="dispensing.time">12:30</span>
                                                </div>
                                                <div class="text-gray-600" data-bind="dispensing.patient">Jean Sénégal • 1 boîte</div>
                                            </div>
                                            <!-- @END_MAP )) -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- @END_COMPONENT: PharmacyManagement -->

                        <!-- Financial Reports -->
                        <!-- @COMPONENT: FinancialReports [Comprehensive financial dashboard] -->
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8 mt-12" id="financial-section">
                            <div class="bg-white shadow rounded-lg">
                                <div class="px-6 py-4 border-b border-gray-200">
                                    <div class="flex items-center justify-between">
                                        <h2 class="text-xl font-semibold text-gray-900">
                                            <i class="fas fa-chart-bar text-blue-600 mr-2"></i>
                                            Rapports financiers
                                        </h2>
                                        <div class="flex space-x-2">
                                            <select class="px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-medical-blue focus:border-medical-blue" 
                                                    data-bind="reportPeriod">
                                                <option value="today">Aujourd'hui</option>
                                                <option value="week">Cette semaine</option>
                                                <option value="month" selected>Ce mois</option>
                                                <option value="quarter">Ce trimestre</option>
                                            </select>
                                            <button class="bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition-colors" 
                                                    data-event="click:exportReports">
                                                <i class="fas fa-download mr-2"></i>
                                                Exporter
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Financial Summary Cards -->
                                <div class="p-6">
                                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                                        <div class="bg-gradient-to-r from-green-400 to-green-600 rounded-lg p-6 text-white">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-green-100 text-sm">Recettes totales</p>
                                                    <p class="text-2xl font-bold" data-bind="financial.totalRevenue">47,250 F</p>
                                                    <p class="text-green-100 text-xs" data-bind="financial.revenueChange">+12% vs mois dernier</p>
                                                </div>
                                                <i class="fas fa-money-bill-wave text-green-200 text-3xl"></i>
                                            </div>
                                        </div>

                                        <div class="bg-gradient-to-r from-blue-400 to-blue-600 rounded-lg p-6 text-white">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-blue-100 text-sm">Consultations</p>
                                                    <p class="text-2xl font-bold" data-bind="financial.consultations">28,400 F</p>
                                                    <p class="text-blue-100 text-xs" data-bind="financial.consultationsPercent">60% du CA</p>
                                                </div>
                                                <i class="fas fa-stethoscope text-blue-200 text-3xl"></i>
                                            </div>
                                        </div>

                                        <div class="bg-gradient-to-r from-purple-400 to-purple-600 rounded-lg p-6 text-white">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-purple-100 text-sm">Pharmacie</p>
                                                    <p class="text-2xl font-bold" data-bind="financial.pharmacy">18,850 F</p>
                                                    <p class="text-purple-100 text-xs" data-bind="financial.pharmacyPercent">40% du CA</p>
                                                </div>
                                                <i class="fas fa-pills text-purple-200 text-3xl"></i>
                                            </div>
                                        </div>

                                        <div class="bg-gradient-to-r from-red-400 to-red-600 rounded-lg p-6 text-white">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-red-100 text-sm">Dépenses</p>
                                                    <p class="text-2xl font-bold" data-bind="financial.expenses">12,340 F</p>
                                                    <p class="text-red-100 text-xs" data-bind="financial.expensesChange">-5% vs mois dernier</p>
                                                </div>
                                                <i class="fas fa-receipt text-red-200 text-3xl"></i>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Charts and Tables -->
                                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                        
                                        <!-- Revenue Chart Placeholder -->
                                        <div class="border border-gray-200 rounded-lg p-6">
                                            <h3 class="text-lg font-medium text-gray-900 mb-4">Évolution du chiffre d'affaires</h3>
                                            <div class="h-64 bg-gray-50 rounded-lg flex items-center justify-center">
                                                <div class="text-center">
                                                    <i class="fas fa-chart-line text-gray-400 text-4xl mb-2"></i>
                                                    <p class="text-gray-500">Graphique d'évolution du CA</p>
                                                    <p class="text-gray-400 text-sm"><!-- @FUNCTIONALITY: Implement Chart.js revenue chart --></p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Payment Methods -->
                                        <div class="border border-gray-200 rounded-lg p-6">
                                            <h3 class="text-lg font-medium text-gray-900 mb-4">Répartition des paiements</h3>
                                            <div class="space-y-4">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center">
                                                        <div class="h-4 w-4 bg-green-500 rounded mr-3"></div>
                                                        <span class="text-sm text-gray-700">Espèces</span>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-sm font-medium text-gray-900" data-bind="payments.cash.amount">28,500 F</div>
                                                        <div class="text-xs text-gray-500" data-bind="payments.cash.percent">60%</div>
                                                    </div>
                                                </div>
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center">
                                                        <div class="h-4 w-4 bg-blue-500 rounded mr-3"></div>
                                                        <span class="text-sm text-gray-700">Carte bancaire</span>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-sm font-medium text-gray-900" data-bind="payments.card.amount">12,400 F</div>
                                                        <div class="text-xs text-gray-500" data-bind="payments.card.percent">26%</div>
                                                    </div>
                                                </div>
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center">
                                                        <div class="h-4 w-4 bg-purple-500 rounded mr-3"></div>
                                                        <span class="text-sm text-gray-700">Mobile Money</span>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-sm font-medium text-gray-900" data-bind="payments.mobile.amount">6,350 F</div>
                                                        <div class="text-xs text-gray-500" data-bind="payments.mobile.percent">14%</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Daily Cash Journal -->
                                        <div class="border border-gray-200 rounded-lg p-6">
                                            <h3 class="text-lg font-medium text-gray-900 mb-4">Journal de caisse quotidien</h3>
                                            <div class="space-y-3">
                                                <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                                    <span class="text-sm text-gray-600">Solde d'ouverture</span>
                                                    <span class="text-sm font-medium" data-bind="cashJournal.opening">500,00 F</span>
                                                </div>
                                                <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                                    <span class="text-sm text-gray-600">Recettes consultations</span>
                                                    <span class="text-sm font-medium text-green-600" data-bind="cashJournal.consultations">+28,400 F</span>
                                                </div>
                                                <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                                    <span class="text-sm text-gray-600">Recettes pharmacie</span>
                                                    <span class="text-sm font-medium text-green-600" data-bind="cashJournal.pharmacy">+18,850 F</span>
                                                </div>
                                                <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                                    <span class="text-sm text-gray-600">Dépenses diverses</span>
                                                    <span class="text-sm font-medium text-red-600" data-bind="cashJournal.expenses">-2,340 F</span>
                                                </div>
                                                <div class="flex justify-between items-center py-2 font-medium">
                                                    <span class="text-gray-900">Solde théorique</span>
                                                    <span class="text-lg text-medical-blue" data-bind="cashJournal.theoretical">45,410 F</span>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Top Services -->
                                        <div class="border border-gray-200 rounded-lg p-6">
                                            <h3 class="text-lg font-medium text-gray-900 mb-4">Services les plus demandés</h3>
                                            <div class="space-y-3">
                                                <!-- @MAP: topServices.map(service => ( -->
                                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg" data-mock="true">
                                                    <div>
                                                        <div class="text-sm font-medium text-gray-900" data-bind="service.name">Consultation générale</div>
                                                        <div class="text-xs text-gray-500" data-bind="service.count">142 consultations</div>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-sm font-medium text-gray-900" data-bind="service.revenue">21,300 F</div>
                                                        <div class="text-xs text-gray-500" data-bind="service.percent">45%</div>
                                                    </div>
                                                </div>

                                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg" data-mock="true">
                                                    <div>
                                                        <div class="text-sm font-medium text-gray-900" data-bind="service.name">Échographie</div>
                                                        <div class="text-xs text-gray-500" data-bind="service.count">28 examens</div>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-sm font-medium text-gray-900" data-bind="service.revenue">14,000 F</div>
                                                        <div class="text-xs text-gray-500" data-bind="service.percent">30%</div>
                                                    </div>
                                                </div>

                                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg" data-mock="true">
                                                    <div>
                                                        <div class="text-sm font-medium text-gray-900" data-bind="service.name">Suivi gynéco</div>
                                                        <div class="text-xs text-gray-500" data-bind="service.count">18 consultations</div>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-sm font-medium text-gray-900" data-bind="service.revenue">9,900 F</div>
                                                        <div class="text-xs text-gray-500" data-bind="service.percent">21%</div>
                                                    </div>
                                                </div>
                                                <!-- @END_MAP )) -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- @END_COMPONENT: FinancialReports -->

                        <!-- Mobile-specific view adjustments -->
                        <div class="md:hidden mt-16 pb-4">
                            <!-- Mobile bottom navigation could go here -->
                        </div>

                    </div>
                </main>
                <!-- @END_COMPONENT: Dashboard -->
                
            </div>
            <!-- @END_COMPONENT: MainContent -->
            
        </div>
        <!-- @END_COMPONENT: MainApp -->

        <!-- Patient Detail Modal (Hidden by default) -->
        <!-- @COMPONENT: PatientModal [Patient details overlay] -->
        <div id="patient-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto">
                    <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
                        <h2 class="text-xl font-semibold text-gray-900">Dossier patient</h2>
                        <button class="text-gray-400 hover:text-gray-600" data-event="click:closePatientModal">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    <div class="p-6">
                        <!-- Patient details would be loaded dynamically here -->
                        <p class="text-gray-600"><!-- @FUNCTIONALITY: Load patient details dynamically based on selection --></p>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: PatientModal -->

    </div>
    <!-- @END_COMPONENT: App -->

    <script>
        // TODO: Implement business logic, API calls, or state management
        (function() {
            'use strict';
            
            // Simple UI state management
            const UIState = {
                currentView: 'login',
                currentUser: null,
                sidebarOpen: false
            };

            // UI Control functions
            function showLogin() {
                document.getElementById('login-screen').classList.remove('hidden');
                document.getElementById('main-app').classList.add('hidden');
            }

            function showMainApp() {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('main-app').classList.remove('hidden');
            }

            function toggleSidebar() {
                UIState.sidebarOpen = !UIState.sidebarOpen;
                // TODO: Implement sidebar toggle animation
            }

            // Mock authentication
            function handleLogin(event) {
                event.preventDefault();
                // TODO: Implement actual authentication
                showMainApp();
                UIState.currentView = 'dashboard';
                console.log('Login attempted - TODO: Implement authentication');
            }

            // Navigation handlers
            function handleNavigation(section) {
                // TODO: Implement section switching logic
                console.log(`Navigating to: ${section}`);
            }

            // Modal handlers
            function showPatientModal(patientId) {
                // TODO: Load patient data and show modal
                document.getElementById('patient-modal').classList.remove('hidden');
                console.log(`Loading patient: ${patientId}`);
            }

            function closePatientModal() {
                document.getElementById('patient-modal').classList.add('hidden');
            }

            // Event listeners setup
            document.addEventListener('DOMContentLoaded', function() {
                // Login form submission
                const loginForm = document.querySelector('form[data-event="submit:handleLogin"]');
                if (loginForm) {
                    loginForm.addEventListener('submit', handleLogin);
                }

                // Navigation links
                document.querySelectorAll('nav a').forEach(link => {
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        handleNavigation(this.textContent.trim());
                    });
                });

                // Modal close button
                const modalCloseBtn = document.querySelector('[data-event="click:closePatientModal"]');
                if (modalCloseBtn) {
                    modalCloseBtn.addEventListener('click', closePatientModal);
                }

                // Mobile menu toggle
                const mobileMenuBtn = document.querySelector('button.md\\:hidden');
                if (mobileMenuBtn) {
                    mobileMenuBtn.addEventListener('click', toggleSidebar);
                }

                // Initialize with login screen
                showLogin();
            });

            // Expose functions for debugging
            window.ClinicApp = {
                showLogin,
                showMainApp,
                handleLogin,
                showPatientModal,
                closePatientModal,
                UIState
            };
        })();
    </script>
</body>
</html>